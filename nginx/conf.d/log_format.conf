log_format main '$remote_addr $realip_remote_addr $remote_user $server_addr [$time_iso8601] $scheme $host $server_port "$request" '
                '$status $request_time $body_bytes_sent '
                '"$http_referer" "$http_user_agent" "$http_x_forwarded_for" "$upstream_addr" "$upstream_response_time" $req_id';

log_format json escape=json '{"datetime": "$time_iso8601", "msec": "$msec", "server_addr": "$server_addr", "remote_addr": "$remote_addr", "remote_user": "$remote_username", "method": "$request_method", "scheme": "$scheme", "protocol": "$server_protocol", "domain": "$host", "port": $server_port, "request_uri": "$request_uri", "status": $status, "path": "$uri", "args": "$args", "request_length": $request_length,"request_time": $request_time, "bytes_sent": $bytes_sent, "body_bytes_sent": $body_bytes_sent, "upstream_name": "", "upstream_name_canary": "", "upstream_addr": "$upstream_addr", "upstream_status": "$upstream_status", "upstream_response_time": "$upstream_response_time", "upstream_response_length": "$upstream_response_length", "http_referrer": "$http_referer", "http_user_agent": "$http_user_agent", "x_forward_for": "$http_x_forwarded_for", "trace_id": "$req_id"}';
